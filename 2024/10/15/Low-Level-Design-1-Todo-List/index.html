<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  
  <title>Low Level Design 1 - Todo List | Fasih Khatib</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="I recently came across the “machine coding” round, also called “low level design” round, of the tech interview process. In this round of the interview, you’re presented with a real-life problem statem">
<meta property="og:type" content="article">
<meta property="og:title" content="Low Level Design 1 - Todo List">
<meta property="og:url" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/index.html">
<meta property="og:site_name" content="Fasih Khatib">
<meta property="og:description" content="I recently came across the “machine coding” round, also called “low level design” round, of the tech interview process. In this round of the interview, you’re presented with a real-life problem statem">
<meta property="og:locale">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/composite_pattern.gif">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/todo_composite.png">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/adapter_pattern.gif">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/todolist_adapter.png">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/strategy_pattern.jpeg">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/todolist_strategy.png">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/proxy_pattern.gif">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/todolist_proxy.png">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/observer_pattern.gif">
<meta property="og:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/todolist_observer.png">
<meta property="article:published_time" content="2024-10-15T05:33:21.000Z">
<meta property="article:modified_time" content="2024-11-21T05:16:11.723Z">
<meta property="article:author" content="Fasih Khatib">
<meta property="article:tag" content="design patterns">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/composite_pattern.gif">
  
    <link rel="alternate" href="/atom.xml" title="Fasih Khatib" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Fasih Khatib</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About Me</a>
        
          <a class="main-nav-link" href="/principles">Guiding Principles</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://fasihkhatib.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Low-Level-Design-1-Todo-List" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/10/15/Low-Level-Design-1-Todo-List/" class="article-date">
  <time datetime="2024-10-15T05:33:21.000Z" itemprop="datePublished">2024-10-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Low Level Design 1 - Todo List
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>I recently came across the “machine coding” round, also called “low level design” round, of the tech interview process. In this round of the interview, you’re presented with a real-life problem statement, and are expected to create a functioning system in under 90 minutes. The intent is to see how you structure your code, follow best practices, apply design patterns, and so on. In the spirit of practising for this round, this blog post looks at how to create a simple todo list application in Python.</p>
<h1 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h1><p>Let’s start with the problem statement: create a todo list. The very first requirement that comes to mind when creating a todo list is the ability to add tasks to the list. For example, getting groceries. It’s also possible to add subtasks to the list. For example, getting apples and oranges are subtasks when getting groceries. The todo list may be shared with family and friends. They receive notifications when items are added or removed from the list, and have the ability to add or remove items. Only the one who created the list and the ones with whom the list has been shared may modify the list. The todo list may be displayed in the console or in the webpage. Finally, the todo list may be persisted in the database.  </p>
<p>With these requirements in mind, we’ll begin by looking at the classes and methods that comprise our system, the design patterns we can apply, and finally go ahead and create the system. Please note that since the implementation is going to be in Python, it may seem like I’m trying to do Java in Python by creating too many classes. For example, Python has the concept of “factory function” rather than “factory method” since functions are first-class citizens of the language. You’ve been warned.</p>
<h1 id="Design-Patterns"><a href="#Design-Patterns" class="headerlink" title="Design Patterns"></a>Design Patterns</h1><p>Let’s begin with a quick refresher on design patterns. In a nutshell, design patterns allow us to write reusable, maintainable, and testable code by providing patterns for solving common software engineering problems. These patterns can be categorized into three types: behavioral, creational, and structural. Behavioral patterns describe how objects interact with each other. Creational patterns describe how objects can be created. Finally, structural patterns describe how objects can be composed to create larger systems.   </p>
<p>In the context of the todo list, we’ll see the following patterns being used. We’ll take a quick look at these patterns and then map them onto the classes we’ll create.</p>
<h2 id="Composite-Pattern"><a href="#Composite-Pattern" class="headerlink" title="Composite Pattern"></a><a target="_blank" rel="noopener" href="https://www.gofpattern.com/structural/patterns/composite-pattern.php">Composite Pattern</a></h2><p>Composite pattern allows us to represent hierarchical, tree-like, data structures. The intention of this pattern is to ensure that composite objects (the non-leaf nodes), and individual objects (the leaf nodes) are treated the same. The UML diagram is given below.</p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/composite_pattern.gif" class="">  
<p>As we can see, the non-leaf <code>Composite</code> class is itself a <code>Component</code> and has a collection of <code>Component</code>s. These may be <code>Composite</code>s or <code>Leaf</code>s. In our todo list example, we can model the the tasks and subtasks using this pattern. We begin by creating a top-level abstract class <code>TodoItem</code> which corresponds to top-level <code>Component</code>. The subtask can be represented by a <code>SubTask</code> class and is the <code>Leaf</code>. Finally, we’ll create a <code>Task</code> class which is the <code>Composite</code>.</p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/todo_composite.png" class="">
<h2 id="Adapter-Pattern"><a href="#Adapter-Pattern" class="headerlink" title="Adapter Pattern"></a><a target="_blank" rel="noopener" href="https://www.gofpattern.com/structural/patterns/adapter-pattern.php">Adapter Pattern</a></h2><p>The adapter pattern allows disparate components to work together seamlessly by reconciling differences between interfaces. It does so by providing a familiar interface that the client can talk to, and in turn using the interface of the underlying component. In other words, adapter pattern translates from one interface to another; the adapter calls specific methods on the adaptee when it is invoked. The UML diagram is given below.  </p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/adapter_pattern.gif" class="">
<p>In our todo list example, we can model connection to database using a <code>DatabaseAdapter</code>. This allows us to expose a familiar set of methods to perform operations like saving the todo list to the database while abstracting the nitty-gritties of the actual database. This class can then be subclassed to provide functionality for specific databases. For example, a <code>MySQLDatabaseAdapter</code> for using MySQL as the database.  </p>
<p>The advantage of using this approach is that it allows seamless migration between databases; we may start small with <code>SQLiteDatabaseAdapter</code> and then switch to <code>MySQLDatabaseAdapter</code> by simply changing which class we use. Since the interface exposed is the same, there will be minimal refactoring in the client code to make this transition.  </p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/todolist_adapter.png" class="">
<h2 id="Strategy-Pattern"><a href="#Strategy-Pattern" class="headerlink" title="Strategy Pattern"></a><a target="_blank" rel="noopener" href="https://www.gofpattern.com/behavioral/patterns/strategy-pattern.php">Strategy Pattern</a></h2><p>The strategy pattern allows defining a family of algorithms, encapsulating each one, and making them interchangeable. This means we can define and pass algorithms around. There is a base class <code>Strategy</code> that defines the interface for the algorithm, and one or more concretions that provide the actual implementation. The UML diagram is given below.  </p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/strategy_pattern.jpeg" class="">
<p>In our todo list example, we can design the rendering of the list as a strategy. For example, we can have a markdown strategy, an HTML strategy, etc. These different strategies produce different representations of the todo list.</p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/todolist_strategy.png" class="">
<h2 id="Proxy-Pattern"><a href="#Proxy-Pattern" class="headerlink" title="Proxy Pattern"></a><a target="_blank" rel="noopener" href="https://www.gofpattern.com/structural/patterns/proxy-pattern.php">Proxy Pattern</a></h2><p>The proxy pattern encapsulates an object and allows itself to be used in place of the original object. Since the proxy is used in place of the original object, it enables use cases such as controlling access. There can be methods on the proxy which require authentication before the operation is performed on the original object. </p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/proxy_pattern.gif" class="">  
<p>In our todolist example, we can create a proxy which ensures that only the owner of the list and those with whom it is shared can make changes to it. To do this, we’ll create an interface called <code>TodoListProtocol</code> which defines methods which the todo list must implement. This will be used by the <code>TodoList</code> class, which represents the actual todo list, and by the <code>TodoListProxy</code> which provides access control for the todo list. The proxy will require that that when a method call is made, the user making the call also be passed as an argument. Only if the user is the owner of the list or is one of the collaborators will the operation be performed.</p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/todolist_proxy.png" class="">
<h2 id="Observer-Pattern"><a href="#Observer-Pattern" class="headerlink" title="Observer Pattern"></a><a target="_blank" rel="noopener" href="https://www.gofpattern.com/behavioral/patterns/observer-pattern.php">Observer Pattern</a></h2><p>The observer pattern allows objects, the observers, to be notified when the state of another object, the observable, changes. </p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/observer_pattern.gif" class="">  
<p>In our todolist example, we’ll create observers which get notified when the state of the todo list changes. We’ll create an abstract class called <code>Observable</code> which will be inherited by the <code>TodoList</code> class. This makes the class “observable”. We’ll create another class <code>TodoListObserver</code> which inherits the <code>Observer</code> class. This makes it the “observer” and it’ll be notified when changes happen to the todo list.</p>
<img src="/2024/10/15/Low-Level-Design-1-Todo-List/todolist_observer.png" class="">  
<p>Now that we’ve looked at the design patterns we’ll use, let’s look at the code.  </p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><h2 id="User"><a href="#User" class="headerlink" title="User"></a>User</h2><p>We’ll begin with the simplest class first, the <code>User</code> class which represents a user of the system. The owners and collaborators of the list will be represented by this class.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">frozen=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    email: <span class="built_in">str</span></span><br></pre></td></tr></table></figure>  
<h2 id="Observer-Pattern-1"><a href="#Observer-Pattern-1" class="headerlink" title="Observer Pattern"></a>Observer Pattern</h2><p>Next, let’s add classes to create the observer pattern. We’ll begin by creating the abstract observable class. It’ll store the list of observers it has to notify, and require the subclasses to provide an implementation to return their state. Since the observers hold a reference to the observable they are observing, the method which returns the state will be used to find what’s changed.  </p>
<p>The implementation for the <code>Observable</code> class is shown below.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observable</span>(abc.ABC):</span><br><span class="line">    observers: <span class="built_in">list</span>[<span class="string">"Observer"</span>] = dc.field(default_factory=<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">notify</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> observer <span class="keyword">in</span> self.observers:</span><br><span class="line">            observer.update()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_observer</span>(<span class="params">self, observer: <span class="string">"Observer"</span></span>):</span><br><span class="line">        self.observers.append(observer)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">state</span>(<span class="params">self</span>) -&gt; typing.<span class="type">Any</span>: ...</span><br></pre></td></tr></table></figure>  
<p>Similarly, we’ll implement the <code>Observer</code> class. It requires its subclasses to provide an implementation for the <code>update</code> method which will be called by the <code>Observable</code> it’s observing.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer</span>(abc.ABC):</span><br><span class="line">    observable: <span class="string">"Observable"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self</span>): ...</span><br></pre></td></tr></table></figure>  
<p>Finally, we’ll create the concrete observer <code>TodoListObserver</code>. It notifies the user by sending them an email when the list is updated. For simplicity, however, we’ll just log a message to the console.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TodoListObserver</span>(<span class="title class_ inherited__">Observer</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, user: <span class="string">"User"</span></span>):</span><br><span class="line">        self.user = user</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self</span>):</span><br><span class="line">        state = self.observable.state</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"Notify <span class="subst">{self.user.email}</span> about changed state"</span>)</span><br></pre></td></tr></table></figure>  
<h2 id="Composite-Pattern-1"><a href="#Composite-Pattern-1" class="headerlink" title="Composite Pattern"></a>Composite Pattern</h2><p>Next we’ll create the composite pattern. We’ll create a base class <code>TodoItem</code> which will be inherited by both the <code>Task</code> and <code>SubTask</code> class. It has basic fields that are required to define a task like an ID, a title, etc. and a couple of base methods to mark the item as complete or check if it’s complete.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TodoItem</span>(abc.ABC):</span><br><span class="line">    <span class="built_in">id</span>: uuid.UUID = dc.field(default_factory=uuid.uuid4)</span><br><span class="line">    title: <span class="built_in">str</span></span><br><span class="line">    completed: <span class="built_in">bool</span> = dc.field(default=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_complete</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>: ...</span><br><span class="line"></span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">complete</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>: ...</span><br></pre></td></tr></table></figure>  
<p>The first of the subclasses is the <code>Task</code> class which we’ll implement next. A task is considered complete when it’s been marked completed and are all of its subtasks. Similarly, marking a task complete marks all the subtasks as complete.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Task</span>(<span class="title class_ inherited__">TodoItem</span>):</span><br><span class="line">    subtasks: <span class="built_in">list</span>[<span class="string">"SubTask"</span>] = dc.field(default_factory=<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_complete</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">return</span> self.completed <span class="keyword">and</span> <span class="built_in">all</span>(subtask.completed <span class="keyword">for</span> subtask <span class="keyword">in</span> self.subtasks)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">complete</span>(<span class="params">self</span>):</span><br><span class="line">        self.completed = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> subtask <span class="keyword">in</span> self.subtasks:</span><br><span class="line">            subtask.complete()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">assert</span> self.is_complete() <span class="keyword">is</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>  
<p>To complete the composite, we’ll add the <code>SubTask</code> class.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubTask</span>(<span class="title class_ inherited__">TodoItem</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_complete</span>(<span class="params">self</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="keyword">return</span> self.completed</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">complete</span>(<span class="params">self</span>):</span><br><span class="line">        self.completed = <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>If we look at the <code>TodoItem</code>, <code>Task</code>, <code>SubTask</code> classes, we can see the hierarchical structure where each <code>Task</code>, a non-leaf component, may have zero or more <code>SubTask</code>s, leaf components. Since both the <code>Task</code> and <code>SubTask</code> are instances of <code>TodoItem</code>, they have the same interface and can be used interchangeably.  </p>
<h2 id="Adapter-Pattern-1"><a href="#Adapter-Pattern-1" class="headerlink" title="Adapter Pattern"></a>Adapter Pattern</h2><p>Next we’ll create a simple database adapter with a single method to save the todo list. There is only one method for the sake of simplicity but it’s easy to see how there can be more of these methods. We’ll start with a protocol called <code>DatabaseAdapter</code>. Think of a Python protocol to be similar to a Java interface.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DatabaseAdapter</span>(<span class="title class_ inherited__">Protocol</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_list</span>(<span class="params">self, todolist: <span class="string">"TodoList"</span></span>): ...</span><br></pre></td></tr></table></figure>  
<p>Next we’ll create two concrete classes which implement this protocol. The first class creates an adapter for MySQL and another for SQLite. Both of these classes take an instance of their specific database and use it to persist the todo list. Since each database instance may have its own set of methods to save data, an adapter provides a familiar interface that can be used elsewhere in the code.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MySQLAdapter</span>():</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, db</span>):</span><br><span class="line">        self.db = db</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_list</span>(<span class="params">self, todolist: <span class="string">"TodoList"</span></span>): ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SQLiteAdapter</span>():</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, db</span>):</span><br><span class="line">        self.db = db</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save_list</span>(<span class="params">self, todolist: <span class="string">"TodoList"</span></span>): ...</span><br></pre></td></tr></table></figure>  
<h2 id="Strategy-Pattern-1"><a href="#Strategy-Pattern-1" class="headerlink" title="Strategy Pattern"></a>Strategy Pattern</h2><p>Next, we’ll create strategies to render the todo list. We’ll start by creating a protocol called <code>RenderingStratgy</code> with a single method called <code>render</code> which returns a string representation of the todo list.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RenderingStrategy</span>(<span class="title class_ inherited__">Protocol</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self, todolist: <span class="string">"TodoList"</span></span>) -&gt; <span class="built_in">str</span>: ...</span><br></pre></td></tr></table></figure>  
<p>We’ll add a concrete strategy called <code>TableRenderingStrategy</code> which displays the tasks and subtasks in tabular format. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TableRenderingStrategy</span>():</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self, todolist: <span class="string">"TodoList"</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        headers = [<span class="string">"Title"</span>, <span class="string">"Status"</span>]</span><br><span class="line">        tasks_and_subtasks = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> task <span class="keyword">in</span> todolist.tasks:</span><br><span class="line">            tasks_and_subtasks.append([task.title, task.is_complete()])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> subtask <span class="keyword">in</span> task.subtasks:</span><br><span class="line">                tasks_and_subtasks.append(</span><br><span class="line">                    [<span class="string">"-&gt; "</span> + subtask.title, subtask.is_complete()]</span><br><span class="line">                )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> tabulate(tasks_and_subtasks, headers=headers)</span><br></pre></td></tr></table></figure>  
<h2 id="Proxy-Pattern-1"><a href="#Proxy-Pattern-1" class="headerlink" title="Proxy Pattern"></a>Proxy Pattern</h2><p>To create the proxy pattern, we’ll create the protocol, <code>TodoListProtocol</code>, for both the todo list and the proxy. Let’s start with the protocol which defines the methods that are common to both the todo list and the proxy. As we can see, there’s methods to mark the list as complete, to search for tasks, to render the list, and so on.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TodoListProtocol</span>(<span class="title class_ inherited__">Protocol</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">complete</span>(<span class="params">self, *args, **kwargs</span>): ...</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, *args, **kwargs</span>) -&gt; <span class="built_in">list</span>[Task]: ...</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self, *args, **kwargs</span>): ...</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">self, *args, **kwargs</span>): ...</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self, *args, **kwargs</span>) -&gt; <span class="built_in">str</span>: ...</span><br></pre></td></tr></table></figure>  
<p>Next we’ll add the implementation for the <code>TodoList</code> which implemenets this protocol.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TodoList</span>(<span class="title class_ inherited__">Observable</span>):</span><br><span class="line">    <span class="built_in">id</span>: uuid.UUID = dc.field(default_factory=uuid.uuid4)</span><br><span class="line">    title: <span class="built_in">str</span></span><br><span class="line">    tasks: <span class="built_in">list</span>[Task] = dc.field(default_factory=<span class="built_in">list</span>)</span><br><span class="line">    owner: User</span><br><span class="line">    collaborators: <span class="built_in">set</span>[User] = dc.field(default_factory=<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">complete</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="keyword">for</span> task <span class="keyword">in</span> self.tasks:</span><br><span class="line">            task.complete()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, title: <span class="built_in">str</span>, *args, **kwargs</span>) -&gt; <span class="built_in">list</span>[Task]:</span><br><span class="line">        <span class="keyword">return</span> [task <span class="keyword">for</span> task <span class="keyword">in</span> self.tasks <span class="keyword">if</span> title.lower() <span class="keyword">in</span> task.title.lower()]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self, task: Task, *args, **kwargs</span>):</span><br><span class="line">        self.tasks.append(task)</span><br><span class="line">        self.notify()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">self, adapter: DatabaseAdapter, *args, **kwargs</span>):</span><br><span class="line">        adapter.save_list(todolist=self)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self, strategy: RenderingStrategy, *args, **kwargs</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> strategy.render(self)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">state</span>(<span class="params">self</span>) -&gt; <span class="built_in">list</span>[Task]:</span><br><span class="line">        <span class="keyword">return</span> copy.copy(self.tasks)</span><br></pre></td></tr></table></figure>
<p>Notice how it implements both <code>TodoListProtocol</code> and <code>Observable</code>. The <code>TodoListProtocol</code> is implemented by providing an implementation for all its methods even when there is no explicit declaration that the protocol has been implemented. In the <code>add</code> method, we call <code>notify</code> which updates all the observers for this list.  </p>
<p>Finally, we’ll add the proxy for <code>TodoList</code>. The proxy authenticates each call to the underlying <code>TodoList</code> by checking whether the user trying to access the list is the owner or a collaborator. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@dc.dataclass(<span class="params">kw_only=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TodoListProxy</span>():</span><br><span class="line">    todolist: TodoList</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">complete</span>(<span class="params">self, user: User, *args, **kwargs</span>):</span><br><span class="line">        self.raise_if_not_authenticated(user=user)</span><br><span class="line">        self.todolist.complete()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">self, title: <span class="built_in">str</span>, user: User, *args, **kwargs</span>) -&gt; <span class="built_in">list</span>[Task]:</span><br><span class="line">        self.raise_if_not_authenticated(user=user)</span><br><span class="line">        <span class="keyword">return</span> self.todolist.search(title=title)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">self, task: Task, user: User, *args, **kwargs</span>):</span><br><span class="line">        self.raise_if_not_authenticated(user=user)</span><br><span class="line">        self.todolist.add(task=task)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">self, adapter: DatabaseAdapter, user: User, *args, **kwargs</span>):</span><br><span class="line">        self.raise_if_not_authenticated(user=user)</span><br><span class="line">        self.todolist.save(adapter=adapter)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self, strategy: RenderingStrategy, user: User, *args, **kwargs</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        self.raise_if_not_authenticated(user=user)</span><br><span class="line">        <span class="keyword">return</span> self.todolist.render(strategy=strategy)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">raise_if_not_authenticated</span>(<span class="params">self, user: User</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.is_authenticated_user(user=user):</span><br><span class="line">            <span class="keyword">raise</span> Exception(<span class="string">f"User <span class="subst">{user.email}</span> is not authenticated."</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">is_authenticated_user</span>(<span class="params">self, user: User</span>):</span><br><span class="line">        <span class="keyword">return</span> (self.todolist.owner == user) <span class="keyword">or</span> (user <span class="keyword">in</span> self.todolist.collaborators)</span><br></pre></td></tr></table></figure>  
<h1 id="Running-the-Code"><a href="#Running-the-Code" class="headerlink" title="Running the Code"></a>Running the Code</h1><p>Let’s wire the pieces together and run them. We’ll create an adapter, a rendering strategy, and an observer. Since we’ll use dependency injection, we’ll pass these obhects to the appropriate methods.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adapter: DatabaseAdapter = MySQLAdapter(db={})</span><br><span class="line">strategy: RenderingStrategy = TableRenderingStrategy()</span><br><span class="line">observer: Observer = TodoListObserver(user=User(email=<span class="string">"jane.doe@gmail.com"</span>))</span><br></pre></td></tr></table></figure>   
<p>Next, let’s create the todo list itself.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">todolist = TodoList(</span><br><span class="line">        title=<span class="string">"..."</span>,</span><br><span class="line">        owner=User(<span class="string">"john.doe@gmail.com"</span>),</span><br><span class="line">        collaborators={</span><br><span class="line">            User(<span class="string">"jane.doe@gmail.com"</span>),</span><br><span class="line">        },</span><br><span class="line">        tasks=[</span><br><span class="line">            Task(</span><br><span class="line">                title=<span class="string">"Get Groceries"</span>,</span><br><span class="line">                subtasks=[</span><br><span class="line">                    SubTask(title=<span class="string">"Get Apples"</span>),</span><br><span class="line">                    SubTask(title=<span class="string">"Get Bananas"</span>),</span><br><span class="line">                ],</span><br><span class="line">            ),</span><br><span class="line">            Task(</span><br><span class="line">                title=<span class="string">"Do laundry"</span>,</span><br><span class="line">                completed=<span class="literal">False</span>,</span><br><span class="line">            ),</span><br><span class="line">        ],</span><br><span class="line">        observers=[</span><br><span class="line">            observer,</span><br><span class="line">        ],</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>  
<p>Notice we’ve added tasks and subtasks to the list. We’ve also added a collaborator and an observer to the list. We’ll finish adding the observer by updating its <code>observable</code> property. This will allow it to fetch the state from the list when it gets updated.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">observer.observable = todolist</span><br></pre></td></tr></table></figure>  
<p>Next, we’ll create a proxy for the list so that we can authenticate the calls.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy = TodoListProxy(todolist=todolist)</span><br></pre></td></tr></table></figure>  
<p>We can now make method calls to see the code in action. Let’s begin by adding a task.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proxy.add(</span><br><span class="line">    task=Task(title=<span class="string">"Walk the dog"</span>),</span><br><span class="line">    user=User(<span class="string">"john.doe@gmail.com"</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>  
<p>This produces the following output in the console. Since John Doe added an item to the list, Jane Doe will be notified of the change.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Notify jane.doe@gmail.com about changed state</span><br></pre></td></tr></table></figure>  
<p>Next, we’ll render the list.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(</span><br><span class="line">    proxy.render(</span><br><span class="line">        strategy=strategy,</span><br><span class="line">        user=User(<span class="string">"jane.doe@gmail.com"</span>),</span><br><span class="line">    )</span><br><span class="line">)</span><br></pre></td></tr></table></figure>  
<p>The list is rendered as follows. The subtasks are marked with an arrow to indicate a level of nesting. </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Title           Status</span><br><span class="line">--------------  --------</span><br><span class="line">Get Groceries   False</span><br><span class="line">-&gt; Get Apples   False</span><br><span class="line">-&gt; Get Bananas  False</span><br><span class="line">Do laundry      False</span><br><span class="line">Walk the dog    False</span><br></pre></td></tr></table></figure>  
<p>Finally, we’ll make an unauthenticated call to see proxy in action.  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">proxy.add(</span><br><span class="line">    task=Task(title=<span class="string">"Walk the dog"</span>),</span><br><span class="line">    user=User(<span class="string">"..."</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>  
<p>This raises an exception saying that the user is not authenticated.  </p>
<p>That’s it. That’s how to create a todo list.</p>
<link rel="stylesheet" href="/css/spoiler.css" type="text/css"><script src="/js/spoiler.js" type="text/javascript" async></script>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/" data-id="cm5ezcg2q001pa4ru4pqi5ws5" data-title="Low Level Design 1 - Todo List" class="article-share-link">Share</a>
      
        <a href="http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/#disqus_thread" class="article-comment-link">Comments</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/design-patterns/" rel="tag">design patterns</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/11/04/Programming-Puzzles-3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Programming Puzzles 3
        
      </div>
    </a>
  
  
    <a href="/2024/08/03/Detecting-disguised-email-addresses-in-a-corpus-of-text/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Detecting disguised email addresses in a corpus of text</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/algorithms/" style="font-size: 11.25px;">algorithms</a> <a href="/tags/architecture/" style="font-size: 17.5px;">architecture</a> <a href="/tags/category-theory/" style="font-size: 13.75px;">category theory</a> <a href="/tags/clojure/" style="font-size: 11.25px;">clojure</a> <a href="/tags/compilers/" style="font-size: 13.75px;">compilers</a> <a href="/tags/design-patterns/" style="font-size: 10px;">design patterns</a> <a href="/tags/epi/" style="font-size: 13.75px;">epi</a> <a href="/tags/functional-programming/" style="font-size: 20px;">functional programming</a> <a href="/tags/machine-learning/" style="font-size: 15px;">machine learning</a> <a href="/tags/math/" style="font-size: 12.5px;">math</a> <a href="/tags/misc/" style="font-size: 16.25px;">misc</a> <a href="/tags/python/" style="font-size: 13.75px;">python</a> <a href="/tags/scala/" style="font-size: 18.75px;">scala</a> <a href="/tags/scalaz/" style="font-size: 17.5px;">scalaz</a> <a href="/tags/testing/" style="font-size: 11.25px;">testing</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/12/27/Creating-a-realtime-data-platform-nullability/">Creating a realtime data platform - nullability</a>
          </li>
        
          <li>
            <a href="/2024/12/26/Creating-a-realtime-data-platform-evolving-the-schema/">Creating a realtime data platform - evolving the schema</a>
          </li>
        
          <li>
            <a href="/2024/12/24/Creating-a-realtime-data-platform-bringing-data-in/">Creating a realtime data platform - bringing data in</a>
          </li>
        
          <li>
            <a href="/2024/12/22/Creating-a-realtime-data-platform-creating-the-data/">Creating a realtime data platform - creating the data</a>
          </li>
        
          <li>
            <a href="/2024/12/18/Creating-a-data-wrehouse-with-Apache-Pinot-and-Debezium/">Creating a realtime data platform - the design</a>
          </li>
        
          <li>
            <a href="/2024/11/24/Property-based-testing-with-Hypothesis/">Property-based testing with Hypothesis</a>
          </li>
        
          <li>
            <a href="/2024/11/06/Programming-Puzzles-4/">Programming Puzzles 4</a>
          </li>
        
          <li>
            <a href="/2024/11/04/Programming-Puzzles-3/">Programming Puzzles 3</a>
          </li>
        
          <li>
            <a href="/2024/10/15/Low-Level-Design-1-Todo-List/">Low Level Design 1 - Todo List</a>
          </li>
        
          <li>
            <a href="/2024/08/03/Detecting-disguised-email-addresses-in-a-corpus-of-text/">Detecting disguised email addresses in a corpus of text</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Fasih Khatib<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About Me</a>
  
    <a href="/principles" class="mobile-nav-link">Guiding Principles</a>
  
</nav>
    
<script>
  var disqus_shortname = 'https-thescalaguy-github-io';
  
  var disqus_url = 'http://fasihkhatib.com/2024/10/15/Low-Level-Design-1-Todo-List/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>